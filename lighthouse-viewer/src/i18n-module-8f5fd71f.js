var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})})),e}var r={},n="[object GeneratorFunction]",o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,i=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,c=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,f="object"==typeof t&&t&&t.Object===Object&&t,p="object"==typeof self&&self&&self.Object===Object&&self,h=f||p||Function("return this")();var d,m=Array.prototype,y=Function.prototype,g=Object.prototype,v=h["__core-js_shared__"],_=(d=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",b=y.toString,w=g.hasOwnProperty,O=g.toString,j=RegExp("^"+b.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F=h.Symbol,A=m.splice,x=N(h,"Map"),E=N(Object,"create"),C=F?F.prototype:void 0,S=C?C.toString:void 0;function P(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function $(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function I(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function M(t,e,r){var n=t[e];w.call(t,e)&&X(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function k(t,e){for(var r=t.length;r--;)if(X(t[r][0],e))return r;return-1}function T(t){return!(!B(t)||(e=t,_&&_ in e))&&(function(t){var e=B(t)?O.call(t):"";return"[object Function]"==e||e==n}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?j:c).test(function(t){if(null!=t){try{return b.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}function D(t,e,r,n){if(!B(t))return t;for(var i=-1,u=(e=function(t,e){if(V(t))return!1;var r=typeof t;if("number"==r||"symbol"==r||"boolean"==r||null==t||G(t))return!0;return a.test(t)||!o.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:function(t){return V(t)?t:U(t)}(e)).length,s=u-1,c=t;null!=c&&++i<u;){var l=z(e[i]),f=r;if(i!=s){var p=c[l];void 0===(f=n?n(p,l,c):void 0)&&(f=B(p)?p:R(e[i+1])?[]:{})}M(c,l,f),c=c[l]}return t}function L(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function N(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return T(r)?r:void 0}function R(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||l.test(t))&&t>-1&&t%1==0&&t<e}P.prototype.clear=function(){this.__data__=E?E(null):{}},P.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},P.prototype.get=function(t){var e=this.__data__;if(E){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return w.call(e,t)?e[t]:void 0},P.prototype.has=function(t){var e=this.__data__;return E?void 0!==e[t]:w.call(e,t)},P.prototype.set=function(t,e){return this.__data__[t]=E&&void 0===e?"__lodash_hash_undefined__":e,this},$.prototype.clear=function(){this.__data__=[]},$.prototype.delete=function(t){var e=this.__data__,r=k(e,t);return!(r<0)&&(r==e.length-1?e.pop():A.call(e,r,1),!0)},$.prototype.get=function(t){var e=this.__data__,r=k(e,t);return r<0?void 0:e[r][1]},$.prototype.has=function(t){return k(this.__data__,t)>-1},$.prototype.set=function(t,e){var r=this.__data__,n=k(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},I.prototype.clear=function(){this.__data__={hash:new P,map:new(x||$),string:new P}},I.prototype.delete=function(t){return L(this,t).delete(t)},I.prototype.get=function(t){return L(this,t).get(t)},I.prototype.has=function(t){return L(this,t).has(t)},I.prototype.set=function(t,e){return L(this,t).set(t,e),this};var U=W((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(G(t))return S?S.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var r=[];return i.test(t)&&r.push(""),t.replace(u,(function(t,e,n,o){r.push(n?o.replace(s,"$1"):e||t)})),r}));function z(t){if("string"==typeof t||G(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}function W(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var i=t.apply(this,n);return r.cache=a.set(o,i),i};return r.cache=new(W.Cache||I),r}function X(t,e){return t===e||t!=t&&e!=e}W.Cache=I;var V=Array.isArray;function B(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function G(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==O.call(t)}var J=function(t,e,r){return null==t?t:D(t,e,r)},Z="[object GeneratorFunction]",H=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,K=/^\w*$/,q=/^\./,Q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Y=/\\(\\)?/g,tt=/^\[object .+?Constructor\]$/,et="object"==typeof t&&t&&t.Object===Object&&t,rt="object"==typeof self&&self&&self.Object===Object&&self,nt=et||rt||Function("return this")();var ot=Array.prototype,at=Function.prototype,it=Object.prototype,ut=nt["__core-js_shared__"],st=function(){var t=/[^.]+$/.exec(ut&&ut.keys&&ut.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ct=at.toString,lt=it.hasOwnProperty,ft=it.toString,pt=RegExp("^"+ct.call(lt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ht=nt.Symbol,dt=ot.splice,mt=xt(nt,"Map"),yt=xt(Object,"create"),gt=ht?ht.prototype:void 0,vt=gt?gt.toString:void 0;function _t(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function bt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function wt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Ot(t,e){for(var r,n,o=t.length;o--;)if((r=t[o][0])===(n=e)||r!=r&&n!=n)return o;return-1}function jt(t,e){for(var r,n=0,o=(e=function(t,e){if(Pt(t))return!1;var r=typeof t;if("number"==r||"symbol"==r||"boolean"==r||null==t||It(t))return!0;return K.test(t)||!H.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:Pt(r=e)?r:Et(r)).length;null!=t&&n<o;)t=t[Ct(e[n++])];return n&&n==o?t:void 0}function Ft(t){return!(!$t(t)||(e=t,st&&st in e))&&(function(t){var e=$t(t)?ft.call(t):"";return"[object Function]"==e||e==Z}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?pt:tt).test(function(t){if(null!=t){try{return ct.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}function At(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function xt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Ft(r)?r:void 0}_t.prototype.clear=function(){this.__data__=yt?yt(null):{}},_t.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},_t.prototype.get=function(t){var e=this.__data__;if(yt){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return lt.call(e,t)?e[t]:void 0},_t.prototype.has=function(t){var e=this.__data__;return yt?void 0!==e[t]:lt.call(e,t)},_t.prototype.set=function(t,e){return this.__data__[t]=yt&&void 0===e?"__lodash_hash_undefined__":e,this},bt.prototype.clear=function(){this.__data__=[]},bt.prototype.delete=function(t){var e=this.__data__,r=Ot(e,t);return!(r<0)&&(r==e.length-1?e.pop():dt.call(e,r,1),!0)},bt.prototype.get=function(t){var e=this.__data__,r=Ot(e,t);return r<0?void 0:e[r][1]},bt.prototype.has=function(t){return Ot(this.__data__,t)>-1},bt.prototype.set=function(t,e){var r=this.__data__,n=Ot(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},wt.prototype.clear=function(){this.__data__={hash:new _t,map:new(mt||bt),string:new _t}},wt.prototype.delete=function(t){return At(this,t).delete(t)},wt.prototype.get=function(t){return At(this,t).get(t)},wt.prototype.has=function(t){return At(this,t).has(t)},wt.prototype.set=function(t,e){return At(this,t).set(t,e),this};var Et=St((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(It(t))return vt?vt.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var r=[];return q.test(t)&&r.push(""),t.replace(Q,(function(t,e,n,o){r.push(n?o.replace(Y,"$1"):e||t)})),r}));function Ct(t){if("string"==typeof t||It(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}function St(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var i=t.apply(this,n);return r.cache=a.set(o,i),i};return r.cache=new(St.Cache||wt),r}St.Cache=wt;var Pt=Array.isArray;function $t(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function It(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==ft.call(t)}var Mt,kt=function(t,e,r){var n=null==t?void 0:jt(t,e);return void 0===n?r:n},Tt=e(Object.freeze({__proto__:null,default:{}})),Dt=function(){function t(e,r,n,o){this.message=e,this.expected=r,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(t,Error),t.buildMessage=function(t,e){var r={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e,r="";for(e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?a(t.parts[e][0])+"-"+a(t.parts[e][1]):a(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function a(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}return"Expected "+function(t){var e,n,o,a=new Array(t.length);for(e=0;e<t.length;e++)a[e]=(o=t[e],r[o.type](o));if(a.sort(),a.length>0){for(e=1,n=1;e<a.length;e++)a[e-1]!==a[e]&&(a[n]=a[e],n++);a.length=n}switch(a.length){case 1:return a[0];case 2:return a[0]+" or "+a[1];default:return a.slice(0,-1).join(", ")+", or "+a[a.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."},{SyntaxError:t,parse:function(e,r){r=void 0!==r?r:{};var n,o={},a={start:ct},i=ct,u=function(t){return t.join("")},s=nt("{",!1),c=",",l=nt(",",!1),f=nt("}",!1),p="number",h=nt("number",!1),d="date",m=nt("date",!1),y="time",g=nt("time",!1),v="plural",_=nt("plural",!1),b="selectordinal",w=nt("selectordinal",!1),O="select",j=nt("select",!1),F=nt("=",!1),A="offset:",x=nt("offset:",!1),E=at("whitespace"),C=/^[ \t\n\r]/,S=ot([" ","\t","\n","\r"],!1,!1),P=at("optionalWhitespace"),$=/^[0-9]/,I=ot([["0","9"]],!1,!1),M=/^[0-9a-f]/i,k=ot([["0","9"],["a","f"]],!1,!0),T=nt("0",!1),D=/^[1-9]/,L=ot([["1","9"]],!1,!1),N="'",R=nt("'",!1),U=/^[ \t\n\r,.+={}#]/,z=ot([" ","\t","\n","\r",",",".","+","=","{","}","#"],!1,!1),W={type:"any"},X=/^[^{}\\\0-\x1F\x7F \t\n\r]/,V=ot(["{","}","\\",["\0",""],""," ","\t","\n","\r"],!0,!1),B=nt("\\\\",!1),G=nt("\\#",!1),J=nt("\\{",!1),Z=nt("\\}",!1),H=nt("\\u",!1),K=0,q=0,Q=[{line:1,column:1}],Y=0,tt=[],et=0;if("startRule"in r){if(!(r.startRule in a))throw new Error("Can't start parsing from rule \""+r.startRule+'".');i=a[r.startRule]}function rt(){return ut(q,K)}function nt(t,e){return{type:"literal",text:t,ignoreCase:e}}function ot(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function at(t){return{type:"other",description:t}}function it(t){var r,n=Q[t];if(n)return n;for(r=t-1;!Q[r];)r--;for(n={line:(n=Q[r]).line,column:n.column};r<t;)10===e.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return Q[t]=n,n}function ut(t,e){var r=it(t),n=it(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function st(t){K<Y||(K>Y&&(Y=K,tt=[]),tt.push(t))}function ct(){return lt()}function lt(){var t,e,r;for(t=K,e=[],r=ft();r!==o;)e.push(r),r=ft();return e!==o&&(q=t,e={type:"messageFormatPattern",elements:e,location:rt()}),t=e}function ft(){var t;return(t=function(){var t,r;t=K,(r=function(){var t,r,n,a,i,u;t=K,r=[],n=K,(a=mt())!==o&&(i=Ot())!==o&&(u=mt())!==o?n=a=[a,i,u]:(K=n,n=o);if(n!==o)for(;n!==o;)r.push(n),n=K,(a=mt())!==o&&(i=Ot())!==o&&(u=mt())!==o?n=a=[a,i,u]:(K=n,n=o);else r=o;r!==o&&(q=t,r=r.reduce((function(t,e){return t.concat(e)}),[]).join(""));(t=r)===o&&(t=K,t=(r=dt())!==o?e.substring(t,K):r);return t}())!==o&&(q=t,r={type:"messageTextElement",value:r,location:rt()});return t=r}())===o&&(t=function(){var t,r,n,a,i,F,A;t=K,123===e.charCodeAt(K)?(r="{",K++):(r=o,0===et&&st(s));r!==o&&mt()!==o&&(n=function(){var t,e,r;if((t=vt())===o){for(t=K,e=[],r=_t();r!==o;)e.push(r),r=_t();e!==o&&(q=t,e=u(e)),t=e}return t}())!==o&&mt()!==o?(a=K,44===e.charCodeAt(K)?(i=c,K++):(i=o,0===et&&st(l)),i!==o&&(F=mt())!==o&&(A=function(){var t;(t=function(){var t,r,n,a,i,u;t=K,e.substr(K,6)===p?(r=p,K+=6):(r=o,0===et&&st(h));r===o&&(e.substr(K,4)===d?(r=d,K+=4):(r=o,0===et&&st(m)),r===o&&(e.substr(K,4)===y?(r=y,K+=4):(r=o,0===et&&st(g))));r!==o&&mt()!==o?(n=K,44===e.charCodeAt(K)?(a=c,K++):(a=o,0===et&&st(l)),a!==o&&(i=mt())!==o&&(u=Ot())!==o?n=a=[a,i,u]:(K=n,n=o),n===o&&(n=null),n!==o?(q=t,t=r={type:r+"Format",style:(s=n)&&s[2],location:rt()}):(K=t,t=o)):(K=t,t=o);var s;return t}())===o&&(t=function(){var t,r,n,a;t=K,e.substr(K,6)===v?(r=v,K+=6):(r=o,0===et&&st(_));r!==o&&mt()!==o?(44===e.charCodeAt(K)?(n=c,K++):(n=o,0===et&&st(l)),n!==o&&mt()!==o&&(a=ht())!==o?(q=t,t=r={type:(i=a).type,ordinal:!1,offset:i.offset||0,options:i.options,location:rt()}):(K=t,t=o)):(K=t,t=o);var i;return t}())===o&&(t=function(){var t,r,n,a;t=K,e.substr(K,13)===b?(r=b,K+=13):(r=o,0===et&&st(w));r!==o&&mt()!==o?(44===e.charCodeAt(K)?(n=c,K++):(n=o,0===et&&st(l)),n!==o&&mt()!==o&&(a=ht())!==o?(q=t,t=r={type:(i=a).type,ordinal:!0,offset:i.offset||0,options:i.options,location:rt()}):(K=t,t=o)):(K=t,t=o);var i;return t}())===o&&(t=function(){var t,r,n,a,i;t=K,e.substr(K,6)===O?(r=O,K+=6):(r=o,0===et&&st(j));if(r!==o)if(mt()!==o)if(44===e.charCodeAt(K)?(n=c,K++):(n=o,0===et&&st(l)),n!==o)if(mt()!==o){if(a=[],(i=pt())!==o)for(;i!==o;)a.push(i),i=pt();else a=o;a!==o?(q=t,t=r=function(t){return{type:"selectFormat",options:t,location:rt()}}(a)):(K=t,t=o)}else K=t,t=o;else K=t,t=o;else K=t,t=o;else K=t,t=o;return t}());return t}())!==o?a=i=[i,F,A]:(K=a,a=o),a===o&&(a=null),a!==o&&(i=mt())!==o?(125===e.charCodeAt(K)?(F="}",K++):(F=o,0===et&&st(f)),F!==o?(q=t,t=r=function(t,e){return{type:"argumentElement",id:t,format:e&&e[2],location:rt()}}(n,a)):(K=t,t=o)):(K=t,t=o)):(K=t,t=o);return t}()),t}function pt(){var t,r,n,a,i;return t=K,mt()!==o&&(r=function(){var t,r,n,a;return t=K,r=K,61===e.charCodeAt(K)?(n="=",K++):(n=o,0===et&&st(F)),n!==o&&(a=vt())!==o?r=n=[n,a]:(K=r,r=o),(t=r!==o?e.substring(t,K):r)===o&&(t=Ot()),t}())!==o&&mt()!==o?(123===e.charCodeAt(K)?(n="{",K++):(n=o,0===et&&st(s)),n!==o&&(a=lt())!==o?(125===e.charCodeAt(K)?(i="}",K++):(i=o,0===et&&st(f)),i!==o?(q=t,t={type:"optionalFormatPattern",selector:r,value:a,location:rt()}):(K=t,t=o)):(K=t,t=o)):(K=t,t=o),t}function ht(){var t,r,n,a;if(t=K,(r=function(){var t,r,n;return t=K,e.substr(K,7)===A?(r=A,K+=7):(r=o,0===et&&st(x)),r!==o&&mt()!==o&&(n=vt())!==o?(q=t,t=r=n):(K=t,t=o),t}())===o&&(r=null),r!==o)if(mt()!==o){if(n=[],(a=pt())!==o)for(;a!==o;)n.push(a),a=pt();else n=o;n!==o?(q=t,t=r=function(t,e){return{type:"pluralFormat",offset:t,options:e,location:rt()}}(r,n)):(K=t,t=o)}else K=t,t=o;else K=t,t=o;return t}function dt(){var t,r;if(et++,t=[],C.test(e.charAt(K))?(r=e.charAt(K),K++):(r=o,0===et&&st(S)),r!==o)for(;r!==o;)t.push(r),C.test(e.charAt(K))?(r=e.charAt(K),K++):(r=o,0===et&&st(S));else t=o;return et--,t===o&&(r=o,0===et&&st(E)),t}function mt(){var t,r,n;for(et++,t=K,r=[],n=dt();n!==o;)r.push(n),n=dt();return t=r!==o?e.substring(t,K):r,et--,t===o&&(r=o,0===et&&st(P)),t}function yt(){var t;return $.test(e.charAt(K))?(t=e.charAt(K),K++):(t=o,0===et&&st(I)),t}function gt(){var t;return M.test(e.charAt(K))?(t=e.charAt(K),K++):(t=o,0===et&&st(k)),t}function vt(){var t,r,n,a,i,u;if(t=K,48===e.charCodeAt(K)?(r="0",K++):(r=o,0===et&&st(T)),r===o){if(r=K,n=K,D.test(e.charAt(K))?(a=e.charAt(K),K++):(a=o,0===et&&st(L)),a!==o){for(i=[],u=yt();u!==o;)i.push(u),u=yt();i!==o?n=a=[a,i]:(K=n,n=o)}else K=n,n=o;r=n!==o?e.substring(r,K):n}return r!==o&&(q=t,r=parseInt(r,10)),t=r}function _t(){var t,r,n;return t=K,r=K,et++,39===e.charCodeAt(K)?(n=N,K++):(n=o,0===et&&st(R)),n===o&&(U.test(e.charAt(K))?(n=e.charAt(K),K++):(n=o,0===et&&st(z))),et--,n===o?r=void 0:(K=r,r=o),r!==o?(e.length>K?(n=e.charAt(K),K++):(n=o,0===et&&st(W)),n!==o?(q=t,t=r=n):(K=t,t=o)):(K=t,t=o),t===o&&(t=K,39===e.charCodeAt(K)?(r=N,K++):(r=o,0===et&&st(R)),r!==o&&(n=function(){var t;U.test(e.charAt(K))?(t=e.charAt(K),K++):(t=o,0===et&&st(z));t===o&&(t=bt());return t}())!==o?(q=t,t=r=n):(K=t,t=o)),t}function bt(){var t;return 39===e.charCodeAt(K)?(t=N,K++):(t=o,0===et&&st(R)),t}function wt(){var t,r,n,a,i,u,s,c,l;return t=K,39===e.charCodeAt(K)?(r=N,K++):(r=o,0===et&&st(R)),r!==o&&(n=bt())!==o?(q=t,t=r=n):(K=t,t=o),t===o&&(X.test(e.charAt(K))?(t=e.charAt(K),K++):(t=o,0===et&&st(V)),t===o&&(t=K,"\\\\"===e.substr(K,2)?(r="\\\\",K+=2):(r=o,0===et&&st(B)),r!==o&&(q=t,r="\\"),(t=r)===o&&(t=K,"\\#"===e.substr(K,2)?(r="\\#",K+=2):(r=o,0===et&&st(G)),r!==o&&(q=t,r="\\#"),(t=r)===o&&(t=K,"\\{"===e.substr(K,2)?(r="\\{",K+=2):(r=o,0===et&&st(J)),r!==o&&(q=t,r="{"),(t=r)===o&&(t=K,"\\}"===e.substr(K,2)?(r="\\}",K+=2):(r=o,0===et&&st(Z)),r!==o&&(q=t,r="}"),(t=r)===o&&(t=K,"\\u"===e.substr(K,2)?(r="\\u",K+=2):(r=o,0===et&&st(H)),r!==o?(n=K,a=K,(i=gt())!==o&&(u=gt())!==o&&(s=gt())!==o&&(c=gt())!==o?a=i=[i,u,s,c]:(K=a,a=o),(n=a!==o?e.substring(n,K):a)!==o?(q=t,l=n,t=r=String.fromCharCode(parseInt(l,16))):(K=t,t=o)):(K=t,t=o))))))),t}function Ot(){var t,e,r;if(t=K,e=[],(r=wt())!==o)for(;r!==o;)e.push(r),r=wt();else e=o;return e!==o&&(q=t,e=u(e)),t=e}if((n=i())!==o&&K===e.length)return n;throw n!==o&&K<e.length&&st({type:"end"}),function(e,r,n){return new t(t.buildMessage(e,r),e,r,n)}(tt,Y<e.length?e.charAt(Y):null,Y<e.length?ut(Y,Y+1):ut(Y,Y))}}}(),Lt=(Mt=function(t,e){return(Mt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}Mt(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Nt=function(){function t(t,e,r){this.locales=[],this.formats={number:{},date:{},time:{}},this.pluralNumberFormat=null,this.currentPlural=null,this.pluralStack=[],this.locales=t,this.formats=e,this.formatters=r}return t.prototype.compile=function(t){return this.pluralStack=[],this.currentPlural=null,this.pluralNumberFormat=null,this.compileMessage(t)},t.prototype.compileMessage=function(t){var e=this;if(!t||"messageFormatPattern"!==t.type)throw new Error('Message AST is not of type: "messageFormatPattern"');var r=t.elements,n=r.filter((function(t){return"messageTextElement"===t.type||"argumentElement"===t.type})).map((function(t){return"messageTextElement"===t.type?e.compileMessageText(t):e.compileArgument(t)}));if(n.length!==r.length)throw new Error("Message element does not have a valid type");return n},t.prototype.compileMessageText=function(t){return this.currentPlural&&/(^|[^\\])#/g.test(t.value)?(this.pluralNumberFormat||(this.pluralNumberFormat=new Intl.NumberFormat(this.locales)),new Wt(this.currentPlural.id,this.currentPlural.format.offset,this.pluralNumberFormat,t.value)):t.value.replace(/\\#/g,"#")},t.prototype.compileArgument=function(t){var e=t.format,r=t.id,n=this.formatters;if(!e)return new Ut(r);var o=this.formats,a=this.locales;switch(e.type){case"numberFormat":return{id:r,format:n.getNumberFormat(a,o.number[e.style]).format};case"dateFormat":return{id:r,format:n.getDateTimeFormat(a,o.date[e.style]).format};case"timeFormat":return{id:r,format:n.getDateTimeFormat(a,o.time[e.style]).format};case"pluralFormat":return new zt(r,e.offset,this.compileOptions(t),n.getPluralRules(a,{type:e.ordinal?"ordinal":"cardinal"}));case"selectFormat":return new Xt(r,this.compileOptions(t));default:throw new Error("Message element does not have a valid format type")}},t.prototype.compileOptions=function(t){var e=this,r=t.format,n=r.options;this.pluralStack.push(this.currentPlural),this.currentPlural="pluralFormat"===r.type?t:null;var o=n.reduce((function(t,r){return t[r.selector]=e.compileMessage(r.value),t}),{});return this.currentPlural=this.pluralStack.pop(),o},t}(),Rt=function(t){this.id=t},Ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Lt(e,t),e.prototype.format=function(t){return t||"number"==typeof t?"string"==typeof t?t:String(t):""},e}(Rt),zt=function(){function t(t,e,r,n){this.id=t,this.offset=e,this.options=r,this.pluralRules=n}return t.prototype.getOption=function(t){var e=this.options;return e["="+t]||e[this.pluralRules.select(t-this.offset)]||e.other},t}(),Wt=function(t){function e(e,r,n,o){var a=t.call(this,e)||this;return a.offset=r,a.numberFormat=n,a.string=o,a}return Lt(e,t),e.prototype.format=function(t){var e=this.numberFormat.format(t-this.offset);return this.string.replace(/(^|[^\\])#/g,"$1"+e).replace(/\\#/g,"#")},e}(Rt),Xt=function(){function t(t,e){this.id=t,this.options=e}return t.prototype.getOption=function(t){var e=this.options;return e[t]||e.other},t}();var Vt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bt=function(){return(Bt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Gt(t){"string"==typeof t&&(t=[t]);try{return Intl.NumberFormat.supportedLocalesOf(t,{localeMatcher:"best fit"})[0]}catch(t){return qt.defaultLocale}}function Jt(t,e){for(var r="",n=0,o=t;n<o.length;n++){var a=o[n];if("string"!=typeof a){var i=a.id;if(!e||!(i in e))throw new Ht("A value must be provided for: "+i,i);var u=e[i];a.options?r+=Jt(a.getOption(u),e):r+=a.format(u)}else r+=a}return r}function Zt(t,e){return e?Object.keys(t).reduce((function(r,n){var o,a;return r[n]=(o=t[n],(a=e[n])?Bt({},o||{},a||{},Object.keys(o).reduce((function(t,e){return t[e]=Bt({},o[e],a[e]||{}),t}),{})):o),r}),Bt({},t)):t}var Ht=function(t){function e(e,r){var n=t.call(this,e)||this;return n.variableId=r,n}return Vt(e,t),e}(Error);function Kt(){return{getNumberFormat:function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new((t=Intl.NumberFormat).bind.apply(t,[void 0].concat(e)))},getDateTimeFormat:function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new((t=Intl.DateTimeFormat).bind.apply(t,[void 0].concat(e)))},getPluralRules:function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new((t=Intl.PluralRules).bind.apply(t,[void 0].concat(e)))}}}var qt=function(){function t(e,r,n,o){var a=this;if(void 0===r&&(r=t.defaultLocale),this.format=function(t){try{return Jt(a.pattern,t)}catch(t){throw t.variableId?new Error("The intl string context variable '"+t.variableId+"' was not provided to the string '"+a.message+"'"):t}},"string"==typeof e){if(!t.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=t.__parse(e)}else this.ast=e;if(this.message=e,!this.ast||"messageFormatPattern"!==this.ast.type)throw new TypeError("A message must be provided as a String or AST.");var i=Zt(t.formats,n);this.locale=Gt(r||[]);var u=o&&o.formatters||Kt();this.pattern=new Nt(r,i,u).compile(this.ast)}return t.prototype.resolvedOptions=function(){return{locale:this.locale}},t.prototype.getAst=function(){return this.ast},t.defaultLocale="en",t.__parse=void 0,t.formats={number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},t}();qt.__parse=Dt.parse;var Qt=e(Object.freeze({__proto__:null,default:qt,createDefaultFormatters:Kt,IntlMessageFormat:qt}));var Yt={isObjectOfUnknownValues:
/**
 * @license Copyright 2020 The Lighthouse Authors. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
 */
function(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)},isObjectOrArrayOfUnknownValues:function(t){return"object"==typeof t&&null!==t}},te=e(Object.freeze({__proto__:null,default:{}}));
/**
 * @license Copyright 2021 The Lighthouse Authors. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
 */
const ee=Tt,re=Qt.default,{isObjectOfUnknownValues:ne,isObjectOrArrayOfUnknownValues:oe}=Yt,ae=te;let ie=["ar","ar-XB","bg","ca","cs","da","de","el","en-GB","en-US","en-XA","en-XL","es","es-419","fi","fil","fr","he","hi","hr","hu","id","it","ja","ko","lt","lv","nl","no","pl","pt","pt-PT","ro","ru","sk","sl","sr","sr-Latn","sv","ta","te","th","tr","uk","vi","zh","zh-HK","zh-TW"];ee.readdirSync&&(ie=ee.readdirSync("/locales/").filter((t=>t.endsWith(".json")&&!t.endsWith(".ctc.json"))).map((t=>t.replace(".json",""))).sort());const ue=/ | [^\s]+$/,se={number:{bytes:{maximumFractionDigits:0},milliseconds:{maximumFractionDigits:0},seconds:{minimumFractionDigits:1,maximumFractionDigits:1},extendedPercent:{maximumFractionDigits:2,style:"percent"}}};function ce(t,e=new Map){for(const r of t)if("argumentElement"===r.type&&(e.set(r.id,r),r.format&&"pluralFormat"===r.format.type))for(const t of r.format.options)ce(t.value.elements,e);return e}function le(t,e={},r){const n=new re(t,"en-XA"===r||"en-XL"===r?"de-DE":r,se),o=function(t,e,r){const n=[...ce(t.getAst().elements).values()],o={};for(const{id:t,format:a}of n){if(t&&t in e==0)throw new Error(`ICU Message "${r}" contains a value reference ("${t}") that wasn't provided`);const n=e[t];if(a&&"numberFormat"===a.type){if("number"!=typeof n)throw new Error(`ICU Message "${r}" contains a numeric reference ("${t}") but provided value was not a number`);"milliseconds"===a.style?o[t]=10*Math.round(n/10):"seconds"===a.style&&"timeInMs"===t?o[t]=Math.round(n/100)/10:"bytes"===a.style?o[t]=n/1024:o[t]=n}else o[t]=n}for(const t of Object.keys(e))if(!(t in o)){if("errorCode"!==t)throw new Error(`Provided value "${t}" does not match any placeholder in ICU message "${r}"`);o.errorCode=e.errorCode}return o}(n,e,t);return n.format(o)}function fe(t){if(!ne(t))return!1;const{i18nId:e,values:r,formattedDefault:n}=t;if("string"!=typeof e)return!1;if("string"!=typeof n)return!1;if(void 0!==r){if(!ne(r))return!1;for(const t of Object.values(r))if("string"!=typeof t&&"number"!=typeof t)return!1}return ue.test(e)}function pe(t,e){if(fe(t))return function(t,e){const r=ae[e];if(!r)throw new Error(`Unsupported locale '${e}'`);const n=r[t.i18nId];return n?le(n.message,t.values,e):t.formattedDefault}(t,e);if("string"==typeof t)return t;throw new Error("Attempted to format invalid icuMessage type")}function he(t){let e="";for(const r of t)if(/^[a-z]+$/i.test(r))e.length&&(e+="."),e+=r;else{if(/]|"|'|\s/.test(r))throw new Error(`Cannot handle "${r}" in i18n`);e+=`[${r}]`}return e}function de(t){if(!ue.test(t))throw Error(`"${t}" does not appear to be a valid ICU message id`);const[e,r]=t.split(" | ");return{filename:e,key:r}}var me={_formatPathAsString:he,collectAllCustomElementsFromICU:ce,isIcuMessage:fe,getFormatted:pe,getRendererFormattedStrings:function(t){const e=ae[t];if(!e)throw new Error(`Unsupported locale '${t}'`);const r=Object.keys(e).filter((t=>t.startsWith("report/"))),n={};for(const t of r){const{filename:r,key:o}=de(t);if(!r.endsWith("util.js"))throw new Error(`Unexpected message: ${t}`);n[o]=e[t].message}return n},replaceIcuMessages:function(t,e){const r={};return function t(r,n,o=[]){if(oe(r))for(const[a,i]of Object.entries(r)){const u=o.concat([a]);if(fe(i)){const t=pe(i,e),o=n[i.i18nId]||[],s=he(u);o.push(i.values?{values:i.values,path:s}:s),r[a]=t,n[i.i18nId]=o}else t(i,n,u)}}(t,r),r},hasLocale:function(t){const e=Intl.NumberFormat.supportedLocalesOf([t]).length>0,r=Boolean(ae[t]);return e&&r},registerLocaleData:function(t,e){ae[t]=e},_formatMessage:le,getIcuMessageIdParts:de,getAvailableLocales:function(){return Object.keys(ae).sort()},getCanonicalLocales:function(){return ie}};
/**
 * @license Copyright 2019 The Lighthouse Authors. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
 */const ye=J,ge=kt,ve=me;var _e=function(t,e){if(t=JSON.parse(JSON.stringify(t)),!ve.hasLocale(e))throw new Error(`Unsupported locale '${e}'`);const r=t.configSettings.locale,{icuMessagePaths:n}=t.i18n,o=[];if(!n)throw new Error("missing icuMessagePaths");for(const[a,i]of Object.entries(n))for(const n of i){let i,u;"string"==typeof n?i=n:(i=n.path,u=n.values);const s=ge(t,i);if("string"!=typeof s)continue;const c={i18nId:a,values:u,formattedDefault:s},l=ve.getFormatted(c,e);l!==s?ye(t,i,l):e!==r&&o.push(a)}return t.i18n.rendererFormattedStrings=ve.getRendererFormattedStrings(e),t.configSettings.locale=e,{lhr:t,missingIcuMessageIds:o}},be=r.swapLocale=_e,we=r.format=me,Oe=Object.freeze(Object.assign(Object.create(null),r,{default:r,swapLocale:be,format:we}));
/**
 * @license Copyright 2021 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
 */export{Oe as i};
